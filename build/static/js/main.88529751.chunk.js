(this["webpackJsonpambassadors-frontend-dev-eval-2021"]=this["webpackJsonpambassadors-frontend-dev-eval-2021"]||[]).push([[0],{39:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(23),i=n.n(a),s=(n(30),n(9)),o=n(12),l=n(13),u=n(14),d=n(16),j=n.n(d),p=n(24),m=n(2),f=Object(u.a)((function(e){return{Nav:{width:"100%",background:"#31afd4",padding:"10px 0",display:"flex",justifyContent:"center",alignItems:"center","& ul":{listStyle:"none",padding:0,display:"flex",justifyContent:"space-around",width:"50%"},"& li":{padding:"10px"},"& a":{color:e.palette.text,textDecoration:"none",fontSize:"1.2rem","&:hover":{textDecoration:"underline"}}}}}));var b=function(){var e=f();return Object(m.jsx)("nav",{className:e.Nav,children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/readme",children:"Readme"})})]})})};var g=function(e){var t=e.classes;return Object(m.jsx)("header",{className:t.Header})},x=n(20);var h=function(e){var t=e.classes,n=e.stickers,c=e.setSelectedSticker,r=function(e){!function(e){var t=new Image;t.onload=function(){c(Object(x.a)(Object(x.a)({},e),{},{img:t}))},t.onerror=function(){console.error("Image failed to load:",e.img)},t.src=e.img}(e)};return Object(m.jsxs)("section",{className:t.Stickers,children:[Object(m.jsx)("h2",{children:" Select your mood! "}),n.map((function(e,n){return Object(m.jsxs)("label",{className:t.StickerLabel,children:[Object(m.jsx)("input",{type:"radio",name:"sticker",value:e.id,onChange:function(){return r(e)},style:{marginRight:"10px"}}),Object(m.jsx)("img",{src:e.img,alt:"Sticker ".concat(n),style:{verticalAlign:"middle"}}),e.alt]},n)}))]})};var v=function(e){var t=e.classes,n=e.picture,c=e.title,r=e.setTitle;return Object(m.jsxs)("section",{className:t.Gallery,children:[Object(m.jsx)("h2",{children:" Write your title! "}),Object(m.jsx)("input",{type:"text",value:c,onChange:function(e){return r(e.target.value)},placeholder:"Enter a title for your picture"}),n&&Object(m.jsxs)("div",{className:t.Picture,children:[Object(m.jsx)("img",{src:n.dataUri,alt:c}),Object(m.jsx)("h3",{children:c})]})]})},O=n.p+"static/media/slap.5f0cd602.png",y=n.p+"static/media/smile.79b3e33f.png",k=n.p+"static/media/crown.ab236a95.png",S=n(3),w=Object(u.a)((function(e){return{"@global body":{background:e.palette.background,color:e.palette.text,fontFamily:"sans-serif"},App:{padding:"20px",background:e.palette.background,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"100vh",maxWidth:"800px",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around","& a":{color:e.palette.text}},fadeIn:{animation:"$fadeIn 3s ease-in-out infinite"},"@keyframes fadeIn":{"0%":{opacity:0},"50%":{opacity:1},"100%":{opacity:0}},Header:{textAlign:"center","& h1":{fontFamily:"sans-serif",cursor:"pointer",fontSize:"2.5rem",margin:"0"}},Main:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10px",justifyContent:"center","& canvas":{width:"640px",height:"480px",cursor:"pointer"},"& video":{display:"none"}},Stickers:{display:"flex",flexDirection:"column",justifyContent:"center","& img":{height:"4rem",margin:"10px"}},Gallery:{display:"flex",flexDirection:"column",alignItems:"center","& img":{height:"16rem",margin:"10px 20px"}},Picture:{padding:"10px",display:"flex",flexDirection:"column",alignItems:"center","& h3":{padding:"8px",textAlign:"center",width:"100%"}}}})),C=[{id:"logo1",img:O,alt:"Slappppp!",active:!1},{id:"logo3",img:y,alt:"Kiss me!",active:!1},{id:"logo2",img:k,alt:"I am a king!",active:!1}];var I=function(e){var t=w(e),n=Object(c.useState)("SLAPPE!"),r=Object(l.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)("Welcome to SlapSticker!"),o=Object(l.a)(s,1)[0],u=function(e,t){var n=Object(c.useRef)(null),r=Object(c.useRef)(null),a=Object(c.useState)(),i=Object(l.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)(null),d=Object(l.a)(u,2),m=d[0],f=d[1],b=Object(c.useRef)({x:0,y:0});Object(c.useEffect)((function(){!function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:{width:1280,height:720},audio:!1});case 3:t=e.sent,n.current&&(n.current.srcObject=t,n.current.play()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Couldn't start webcam: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(c.useEffect)((function(){requestAnimationFrame((function e(){var t;if(r.current&&n.current){var c=r.current.getContext("2d");if(c.clearRect(0,0,r.current.width,r.current.height),c.drawImage(n.current,0,0,r.current.width,r.current.height),(null===m||void 0===m||null===(t=m.img)||void 0===t?void 0:t.complete)&&0!==m.img.naturalHeight){var a=b.current,i=a.x,s=a.y;c.drawImage(m.img,i-50,s-50,100,100)}requestAnimationFrame(e)}}))}),[m]),Object(c.useEffect)((function(){var e=function(e){b.current={x:e.clientX,y:e.clientY}};return window.addEventListener("mousemove",e),function(){return window.removeEventListener("mousemove",e)}}),[]);var g=Object(c.useCallback)((function(){if(r.current){var e=r.current.toDataURL("image/png");o({dataUri:e,title:t})}}),[r,t]);return{videoRef:n,canvasRef:r,onCapture:g,picture:s,setSelectedSticker:f}}(0,a),d=u.videoRef,f=u.canvasRef,x=u.onCapture,O=u.picture,y=u.setSelectedSticker;return Object(m.jsxs)("div",{className:t.App,children:[Object(m.jsx)(b,{}),Object(m.jsx)(g,{classes:t}),Object(m.jsx)("h1",{className:t.fadeIn,children:o}),Object(m.jsxs)(S.d,{children:[Object(m.jsx)(S.b,{path:"/",exact:!0,children:Object(m.jsxs)("main",{children:[Object(m.jsx)(h,{classes:t,stickers:C,setSelectedSticker:y}),Object(m.jsxs)("section",{className:t.Main,children:[Object(m.jsx)("video",{ref:d,style:{display:"none"}}),Object(m.jsx)("canvas",{ref:f,width:"640",height:"480",onClick:x,style:{cursor:"none"}}),Object(m.jsx)(v,{classes:t,picture:O,title:a,setTitle:i})]})]})}),Object(m.jsx)(S.b,{path:"/readme"}),Object(m.jsx)(S.a,{to:"/"})]})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(s.b,{theme:{palette:{primary:"#d59bf6",secondary:"#9896f1",text:"#001a2c",background:"url('/emoji.jpg')"}},children:Object(m.jsx)(I,{})})})}),document.getElementById("root")),R(console.log)}},[[39,1,2]]]);
//# sourceMappingURL=main.88529751.chunk.js.map